(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{22:function(e,t,n){e.exports=n(37)},27:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),s=n.n(o),c=n(5),i=n(6),l=n(8),u=n(7),p=n(9),m=n(12),d=n(1),f=(n(27),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"landingpage-div"},r.a.createElement("div",{className:"landingpics"},r.a.createElement("div",{className:"dogpic"}),r.a.createElement("div",{className:"catpic"})),r.a.createElement("h1",null,"Adoption Process"),r.a.createElement("p",null,"You can only adopt dogs or cats."),r.a.createElement("p",null,"And the only dogs and cats you can adopt are the ones that have been in this shelter the longest"),r.a.createElement("p",null,"There is a wait to adopt, once you submit your name you will be put at the back of the line"),r.a.createElement("div",{className:"getStarted-btn"},r.a.createElement(m.b,{to:"/adopt"},r.a.createElement("input",{type:"button",name:"adopt",value:"Start Process",className:"btn"}))))}}]),t}(a.Component)),h="https://cryptic-meadow-22047.herokuapp.com",g={getAdopters:function(){return fetch("".concat(h,"/people")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},addAdopter:function(e){return fetch("".concat(h,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))},getDogs:function(){return fetch("".concat(h,"/pets/dogs")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},getCats:function(){return fetch("".concat(h,"/pets/cats")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},adoptPet:function(e,t){var n=t.toLowerCase();return fetch("".concat(h,"/").concat(n,"/").concat(e),{method:"DELETE"})}},E=r.a.createContext({Dogs:{},Cats:{},Adopters:{},isLoading:null,setDogs:function(){},setCats:function(){},setAdopters:function(){},adoptedCat:function(){},adoptedDog:function(){}}),b=E,v=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:null,Dogs:{first:[],list:[]},Cats:{first:[],list:[]},Adopters:[]},n.setAdopters=function(e){n.setState({Adopters:[e]})},n.setCats=function(e,t){n.setState({Cats:{first:e,list:t}})},n.setDogs=function(e,t){n.setState({Dogs:{first:e,list:t}})},n.adoptedCat=function(e){var t=n.state.Cats.list.filter((function(t){return t.id!==e})),a=t[0];n.setState({Cats:{first:a,list:t}})},n.adoptedDog=function(e){var t=n.state.Dogs.list.filter((function(t){return t.id!==e})),a=t[0];n.setState({Dogs:{first:a,list:t}})},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={Dogs:this.state.Dogs,Cats:this.state.Cats,Adopters:this.state.Adopters,isLoading:this.state.isLoading,setCats:this.setCats,setDogs:this.setDogs,setAdopters:this.setAdopters,adoptedCat:this.adoptedCat,adoptedDog:this.adoptedDog};return r.a.createElement(E.Provider,{value:e},this.props.children)}}]),t}(a.Component),y=(n(33),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={currentPet:{}},n.handleAdopt=function(){n.setState({currentPet:n.props.pet.first})},n.handleAdoptButton=function(){n.context.Adopters.map((function(e){if(e[0]===n.props.userName)return r.a.createElement("button",{onClick:n.handleAdopt},"Adopt")}))},n.renderFirstPetInfo=function(){return r.a.createElement("div",{className:"petInfo"},r.a.createElement("div",{className:"pet-image"},r.a.createElement("img",{src:n.props.pet.first.imageURL,alt:n.props.pet.first.imageDescription})),r.a.createElement("p",null,"Name: ",n.props.pet.first.name),r.a.createElement("p",null,"Age: ",n.props.pet.first.age),r.a.createElement("p",null,"Description: ",n.props.pet.first.description),r.a.createElement("p",null,"Gender: ",n.props.pet.first.gender),r.a.createElement("p",null,"Breed: ",n.props.pet.first.breed),r.a.createElement("p",null,"Story: ",n.props.pet.first.story),n.handleAdoptButton())},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"each-petInfo"},r.a.createElement("h2",null,"Next ",this.props.type," in line to be adopted: "),this.renderFirstPetInfo())}}]),t}(a.Component));y.contextType=b;var j=y,N=(n(34),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",submitName:!1},n.handleChangeName=function(e){n.setState({name:e.currentTarget.value})},n.handleAddUserToQueue=function(){var e={name:n.state.name};g.addAdopter(e).then((function(e){n.context.setAdopters(e)})),n.setState({submitName:!1})},n.handleSubmitNewName=function(){if(n.state.submitName)return r.a.createElement("div",{className:"newname-form"},r.a.createElement("form",null,r.a.createElement("label",null,"Enter full name:"),r.a.createElement("input",{type:"text",name:"name",onChange:function(e){n.handleChangeName(e)}}),r.a.createElement("button",{onClick:function(e){e.preventDefault(),n.handleAddUserToQueue()}},"Submit")))},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.getAdopters().then((function(t){e.context.setAdopters(t)})),g.getDogs().then((function(t){var n=t.value,a=t.next;e.context.setDogs(n,a)})),g.getCats().then((function(t){var n=t.value,a=t.next;e.context.setCats(n,a)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"adoption-page"},r.a.createElement("h2",null,"Next in line:"),r.a.createElement("div",{className:"adopter-sect"},this.context.Adopters.map((function(e){return e.map((function(e,t){return r.a.createElement("h2",{className:"adopter-name",key:t},e)}))}))),r.a.createElement("div",{className:"control-center"},r.a.createElement("button",{onClick:function(){return e.props.history.push("/")},className:"pulse"},"Go back"),r.a.createElement("button",{onClick:function(){e.setState({submitName:!e.state.submitName})},className:"pulse"},"Add your name"),this.handleSubmitNewName()),r.a.createElement("hr",null),r.a.createElement("div",{className:"pet-display"},r.a.createElement(j,{pet:this.context.Dogs,type:"Dog",userName:this.state.name})),r.a.createElement("div",{className:"pet-display"},r.a.createElement(j,{pet:this.context.Cats,type:"Cat",userName:this.state.name})))}}]),t}(a.Component));N.contextType=b;var C=Object(d.f)(N),A=(n(35),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(v,null,r.a.createElement(m.a,null,r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"FIFO Petful")),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:f}),r.a.createElement(d.a,{path:"/adopt",component:C}))))}}]),t}(a.Component));n(36);s.a.render(r.a.createElement(A,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.88b78b75.chunk.js.map